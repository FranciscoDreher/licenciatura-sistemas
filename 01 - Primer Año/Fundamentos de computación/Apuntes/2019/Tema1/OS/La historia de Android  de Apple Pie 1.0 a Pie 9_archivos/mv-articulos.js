function hideShowGroupByClassName(e){if(document.getElementsByClassName){this.ArrElements=document.getElementsByClassName(e);for(var t=this,n=0;n<this.ArrElements.length;n++)this.ArrElements[n].onclick=function(){t._hideShowElement(this)};this._hideShowElement=function(e){if(e){for(var t=0;t<this.ArrElements.length;t++)e!=this.ArrElements[t]&&((n=this.ArrElements[t].parentElement).className=n.className.replace("show","hide"),-1==n.className.indexOf("hide")&&(n.className?n.className+=" hide":n.className="hide"));var n=e.parentElement;-1!=n.className.indexOf("hide")?n.className=n.className.replace("hide","show"):-1!=n.className.indexOf("show")?n.className=n.className.replace("show","hide"):n.className?n.className+=" hide":n.className="hide"}}}}function expandParent(e,t){e=e||window.event;var n=OQuery.parentByTag(t,"blockquote");util.hasClass(n,"collapsed")?(util.addClass(n,"expanded"),util.removeClass(n,"collapsed"),t.innerHTML="-"):(util.removeClass(n,"expanded"),util.addClass(n,"collapsed"),t.innerHTML="+")}function createPopup(e,t){(e=e||window.event).pageX=e.pageX||e.clientX+document.body.scrollLeft,e.pageY=e.pageY||e.clientY+document.body.parentElement.scrollTop,CommentPopup.instance.create(t.getAttribute("data-comment"),e.pageX,e.pageY)}var MvArticulos=MvArticulos||{};OQuery=function(){},OQuery.parentByTag=function(e,t){var n=e,o=null,i=!0;do{void 0===e.parentNode?i=!1:-1!==(n=n.parentNode).tagName.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())&&(o=n)}while(i&&!o);return o},MvArticulos.blocExpanded=function(){var e=document.getElementById("CommentList"),t=MvArticulos.searchInChild(e,function(e){return!!util.hasClass(e,"nocollapsed")});for(var n in t){var o=t[n];o.offsetHeight>62&&(util.addClass(o,"collapsed"),util.removeClass(o,"nocollapsed"))}return t},MvArticulos.searchInChild=function(e,t){var n,o,i=[],s=[];if(e)for(o in e.childNodes)t(n=e.childNodes[o])&&i.push(n),void 0!==n.childNodes&&n.childNodes.length>0&&(s=MvArticulos.searchInChild(n,t)),i=i.concat(s);return i},MvArticulos.commentConnect=function(){if(0==document.getElementById("comment").value.length)return userManager.sendRegForm("CommentForm","CommentFormMsg",99),!1},Ont={},Ont.console=function(e){"undefined"==typeof console?Ont.console=Ont.legacy.console(e):Ont.console=console.log(e)},Array.from=function(e){return[].slice.call(e)},Ont.legacy={},Ont.legacy.console=function(e){alert(e)},OntDOM={},OntDOM.find=function(e,t){return document.getElementsByClassName?(OntDOM.find=this.className,this.className(e,t)):this.chriteria(function(t){return util.hasClass(t,e)},t)},OntDOM.className=function(e,t){return"string"==typeof(t=t||document.body)&&(el=document.getElementById(t),t=el||document.body),Array.from(t.getElementsByClassName(e))},OntDOM.chriteria=function(e,t){var n,o,i=[];if("string"==typeof(t=t||document.body)&&(t=document.getElementById(t)),!t||!t.children)return[];for(n in t.children)void 0!==(o=t.children[n])&&(e(o)&&i.push(o),o.children&&o.children.length>0&&(i=i.concat(this.chriteria(e,o))));return i},OntDOM.remove=function(e){e.parentNode.removeChild(e)},OntDOM.css=function(e,t){return window.getComputedStyle?window.getComputedStyle(e).getPropertyCSSValue(t).cssText:e.currentStyle?e.currentStyle[t]:""},OntDOM.setStyle=function(e,t,n){e.setAttribute?e.setAttribute("style",t+":"+n+";"):e.style.setAttribute("style",t+":"+n+";")},OntEvent={},OntEvent.on=function(e,t,n){var o,i;for(i=Array.prototype.isPrototypeOf(t)?t:[t],o=0;o<i.length;o++)(t=i[o]).addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(e){return function(){n.call(e)}}(t))};var Theme=Theme||{};Theme.initzialized=!1,Theme._init=function(){Theme.social.init(),MvArticulos.blocExpanded()},Theme.run=function(){Theme.initzialized||(Theme._init(),Theme.initzialized=!0)},OntEvent.on("DOMContentLoaded",window,function(){Theme.run()}),OntEvent.on("load",window,function(){Theme.run()}),Theme.social=function(){},Theme.social={_commentBox:null,_commentBoxId:"comment",_areaId:"TabOrdDate"},Theme.social.init=function(){var e=this,t=OntDOM.find("cite");OntEvent.on("click",t,function(){var t=this.parentNode;e.citar(t.getAttribute("data-id"))}),t=OntDOM.find("reply"),OntEvent.on("click",t,function(){var t=this.parentNode;e.responder(t.getAttribute("data-id"))}),this._commentBox=document.getElementById(this._commentBoxId)},Theme.social.responder=function(e){this._commentBox.value+="#"+e+"\n",this._commentBox.focus(),this._moveCaret(),this._commentBox.scrollTop=this._commentBox.scrollHeight},Theme.social.citar=function(e){var t=this.getById(e),n=t.getAttribute("data-author"),o=t.getAttribute("data-plain"),i=t.parentElement.getElementsByClassName(o);if(i.length){var s=i[0].innerHTML;s=Theme.strip_tags(s,""),this._commentBox.value+=this._citaFormat(s,n),this._commentBox.focus(),this._moveCaret(),this._commentBox.scrollTop=this._commentBox.scrollHeight}},Theme.social.getById=function(e){return OntDOM.chriteria(function(t){return!!t.getAttribute&&t.getAttribute("data-id")==e},this._areaId)[0]},Theme.social._citaFormat=function(e,t){var n="";return void 0!==t&&(n+="[autor]",n+=t,n+="[/autor]\n"),n+="[cita]\n",n+=e,n+="\n",n+="[/cita]\n"},Theme.social._moveCaret=function(){var e=this._commentBox;if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if(void 0!==e.createTextRange){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}},CommentPopup=function(){this.element=null,this.showed=!1,this.curid="",this.dely=null},CommentPopup.popid="popup",CommentPopup.className="popup-comment",CommentPopup.prototype.hide=function(){null!=this.element&&(this.element.remove?this.element.remove():this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.curid="",this.showed=!1)},CommentPopup.prototype.hideDely=function(){var e=this;this.dely=window.setTimeout(function(){e.hide()},400)},CommentPopup.prototype.create=function(e,t,n){var o=this,i=document.getElementById(e);if(this.curid!=e&&(this.hide(),null!=i)){this.element=document.createElement("div");var s=i;this.element.innerHTML=s.innerHTML,this.element.style.top=n+"px",this.element.style.left=t+"px",this.element.style.position="absolute",this.element.style.zIndex="9",this.element.id=CommentPopup.popid,this.element.className=CommentPopup.className,this.element.onmouseover=function(e){clearTimeout(o.dely)},this.element.onmouseout=function(e){(e=e||window.event).pageX=e.pageX||e.clientX+document.body.scrollLeft,e.pageY=e.pageY||e.clientY+document.body.parentElement.scrollTop;var t={x:parseInt(o.element.style.left.replace("px","")),y:parseInt(o.element.style.top.replace("px",""))},n={x:t.x+o.element.offsetWidth,y:t.y+o.element.offsetHeight};(e.pageY<t.y||e.pageY>n.y)&&o.hide(),(e.pageX<t.x||e.pageX>n.x)&&o.hide()},this.show()}},CommentPopup.prototype.show=function(){this.showed||(document.body.appendChild(this.element),this.showed=!0)},CommentPopup.instance=new CommentPopup,Theme.lists={},Theme.lists.linkImage=function(){var e=OntDOM.find("post","ListBox");Theme.lists.processList(e),Theme.lists.processList(OntDOM.find("page","ListBox"))},Theme.lists.processList=function(e){for(var t=0;t<e.length;t++){rPost=e[t];var n=OntDOM.find("image",rPost)[0];if(n&&0!=n.offsetHeight){var o=OntDOM.find("title",rPost)[0];if("A"==o.tagName){var i=OntDOM.find("container",rPost)[0],s=(o.offsetHeight,o.offsetTop,n.style.marginTop,OntDOM.css(i,"margin-top"));if(""!=s){var a=parseInt(s),l=parseInt(n.offsetHeight)+a;OntDOM.setStyle(o,"padding-bottom",l+"px"),OntDOM.setStyle(i,"margin-top","-"+n.offsetHeight+"px")}}}}},Theme.strip_tags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(o,"").replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})};